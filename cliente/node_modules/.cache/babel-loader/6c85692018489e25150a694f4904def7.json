{"ast":null,"code":"import { BEGIN_GET_USERDATA, GET_USERDATA_OK, GET_USERDATA_ERROR, COMIENZA_LOGIN, LOGIN_EXITOSO, LOGIN_ERROR, OCULTAR_ERROR, MOSTRAR_ERROR } from '../types/index';\nimport clienteAxios from '../config/axios';\nimport tokenAuth from '../config/tokenAuth';\nexport function mostrarErrorAction(msg, categoria) {\n  const alerta = {\n    msg,\n    categoria\n  };\n  return dispatch => {\n    dispatch(mostraError(alerta));\n  };\n}\n\nconst mostraError = alerta => ({\n  type: MOSTRAR_ERROR,\n  payload: alerta\n});\n\nexport function ocultarAlertAction() {\n  return dispatch => {\n    dispatch(ocultarAlerta());\n  };\n}\n\nconst ocultarAlerta = () => ({\n  type: OCULTAR_ERROR\n});\n\nexport function obtieneUsuarioAction() {\n  return dispatch => {\n    console.log(\"desde el return del obtiene\");\n    dispatch(comienzaObtiene());\n  };\n}\n\nconst comienzaObtiene = () => ({\n  type: BEGIN_GET_USERDATA\n});\n\nexport function loginUsuarioaction(datos) {\n  return async dispatch => {\n    dispatch(comienzaLogin());\n\n    try {\n      const resultado = await clienteAxios.post('/api/auth', datos); // console.log(resultado);\n\n      dispatch(loginExitoso(resultado.data));\n      obtieneUsuarioAction();\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n}\n\nconst comienzaLogin = () => ({\n  type: COMIENZA_LOGIN\n});\n\nconst loginExitoso = token => ({\n  type: LOGIN_EXITOSO,\n  payload: token\n});","map":{"version":3,"sources":["C:/Users/alexr/Desktop/reduxadminister/cliente/src/actions/userAction.js"],"names":["BEGIN_GET_USERDATA","GET_USERDATA_OK","GET_USERDATA_ERROR","COMIENZA_LOGIN","LOGIN_EXITOSO","LOGIN_ERROR","OCULTAR_ERROR","MOSTRAR_ERROR","clienteAxios","tokenAuth","mostrarErrorAction","msg","categoria","alerta","dispatch","mostraError","type","payload","ocultarAlertAction","ocultarAlerta","obtieneUsuarioAction","console","log","comienzaObtiene","loginUsuarioaction","datos","comienzaLogin","resultado","post","loginExitoso","data","error","response","token"],"mappings":"AAAA,SAAQA,kBAAR,EACQC,eADR,EAEQC,kBAFR,EAGQC,cAHR,EAIQC,aAJR,EAKQC,WALR,EAMQC,aANR,EAOQC,aAPR,QAQO,gBARP;AASA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AAEA,OAAO,SAASC,kBAAT,CAA4BC,GAA5B,EAAiCC,SAAjC,EAA2C;AAC1C,QAAMC,MAAM,GAAG;AAEPF,IAAAA,GAFO;AAGPC,IAAAA;AAHO,GAAf;AAKA,SAAOE,QAAD,IAAY;AAEVA,IAAAA,QAAQ,CAAEC,WAAW,CAACF,MAAD,CAAb,CAAR;AACP,GAHD;AAIP;;AACD,MAAME,WAAW,GAAIF,MAAD,KAAa;AAEzBG,EAAAA,IAAI,EAAET,aAFmB;AAGzBU,EAAAA,OAAO,EAAEJ;AAHgB,CAAb,CAApB;;AAMA,OAAO,SAASK,kBAAT,GAA6B;AAE5B,SAAOJ,QAAD,IAAY;AAEVA,IAAAA,QAAQ,CAAEK,aAAa,EAAf,CAAR;AACP,GAHD;AAIP;;AACD,MAAMA,aAAa,GAAG,OAAO;AAErBH,EAAAA,IAAI,EAAEV;AAFe,CAAP,CAAtB;;AAIA,OAAO,SAASc,oBAAT,GAA+B;AAG9B,SAAON,QAAD,IAAY;AACVO,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAR,IAAAA,QAAQ,CAAES,eAAe,EAAjB,CAAR;AACP,GAHD;AAIP;;AACD,MAAMA,eAAe,GAAG,OAAO;AAEvBP,EAAAA,IAAI,EAAEhB;AAFiB,CAAP,CAAxB;;AAKA,OAAO,SAASwB,kBAAT,CAA4BC,KAA5B,EAAkC;AAGjC,SAAO,MAAMX,QAAN,IAAiB;AAEhBA,IAAAA,QAAQ,CAAEY,aAAa,EAAf,CAAR;;AACA,QAAI;AACI,YAAMC,SAAS,GAAG,MAAMnB,YAAY,CAACoB,IAAb,CAAkB,WAAlB,EAA+BH,KAA/B,CAAxB,CADJ,CAEI;;AACAX,MAAAA,QAAQ,CAAEe,YAAY,CAACF,SAAS,CAACG,IAAX,CAAd,CAAR;AACAV,MAAAA,oBAAoB;AAC3B,KALD,CAKE,OAAOW,KAAP,EAAc;AACRV,MAAAA,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,QAAlB;AACP;AACR,GAXD;AAYP;;AACD,MAAMN,aAAa,GAAG,OAAO;AAErBV,EAAAA,IAAI,EAAEb;AAFe,CAAP,CAAtB;;AAIA,MAAM0B,YAAY,GAAII,KAAD,KAAY;AAEzBjB,EAAAA,IAAI,EAAEZ,aAFmB;AAGzBa,EAAAA,OAAO,EAAEgB;AAHgB,CAAZ,CAArB","sourcesContent":["import {BEGIN_GET_USERDATA, \r\n        GET_USERDATA_OK, \r\n        GET_USERDATA_ERROR,\r\n        COMIENZA_LOGIN,\r\n        LOGIN_EXITOSO,\r\n        LOGIN_ERROR,\r\n        OCULTAR_ERROR,\r\n        MOSTRAR_ERROR\r\n} from '../types/index';\r\nimport clienteAxios from '../config/axios';\r\nimport tokenAuth from '../config/tokenAuth';\r\n\r\nexport function mostrarErrorAction(msg, categoria){\r\n        const alerta = {\r\n\r\n                msg,\r\n                categoria                \r\n        }\r\n        return(dispatch)=>{\r\n\r\n                dispatch( mostraError(alerta) );               \r\n        }\r\n}\r\nconst mostraError = (alerta) => ({\r\n\r\n        type: MOSTRAR_ERROR,\r\n        payload: alerta\r\n})\r\n\r\nexport function ocultarAlertAction(){\r\n\r\n        return(dispatch)=>{\r\n\r\n                dispatch( ocultarAlerta() ); \r\n        }\r\n}\r\nconst ocultarAlerta = () => ({\r\n\r\n        type: OCULTAR_ERROR\r\n})\r\nexport function obtieneUsuarioAction(){\r\n\r\n        \r\n        return(dispatch)=>{\r\n                console.log(\"desde el return del obtiene\")\r\n                dispatch( comienzaObtiene() );\r\n        }\r\n}\r\nconst comienzaObtiene = () => ({\r\n\r\n        type: BEGIN_GET_USERDATA\r\n})\r\n\r\nexport function loginUsuarioaction(datos){\r\n\r\n\r\n        return async(dispatch)=>{\r\n                \r\n                dispatch( comienzaLogin() );\r\n                try {\r\n                        const resultado = await clienteAxios.post('/api/auth', datos);\r\n                        // console.log(resultado);\r\n                        dispatch( loginExitoso(resultado.data) );  \r\n                        obtieneUsuarioAction();                    \r\n                } catch (error) {\r\n                        console.log(error.response)\r\n                }\r\n        }\r\n}\r\nconst comienzaLogin = () => ({\r\n\r\n        type: COMIENZA_LOGIN\r\n})\r\nconst loginExitoso = (token) => ({\r\n\r\n        type: LOGIN_EXITOSO,\r\n        payload: token\r\n})\r\n\r\n"]},"metadata":{},"sourceType":"module"}